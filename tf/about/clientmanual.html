<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.11.1" />
<title>tf.about.clientmanual API documentation</title>
<meta name="description" content="Quick start â€¦" />
<!-- integrity SRI from https://cdnjs.com/libraries/10up-sanitize.css/11.0.1 -->
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css"
integrity="sha512-kcbluZFacWN57NgWZ4aH6eUMBEaTyErFhIFD3y5qYZbKuuyImH0K/AKsBbfXlivh2z5C+3IDTIhI11YmKomzmA=="
crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css"
integrity="sha512-uVeAgzAmieLUTGba0qr9vXQgVD7fko2kcbYIKIraXUIDg9iJLxveTFUrg3DJhqn3cAf3HFDbgmhq0eGko5wEAA=="
crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS_CHTML" integrity="sha256-kZafAc6mZvK3W3v1pHOcUix30OHQN6pU/NO2oFkqZVw=" crossorigin></script>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>tf.about.clientmanual</code></h1>
</header>
<section id="section-intro">
<h1 id="quick-start">Quick start</h1>
<p>This is the manual for the full interface.
There is a separate manual for the simplified interface:
<code><a title="tf.about.manual" href="manual.html">tf.about.manual</a></code>.</p>
<p><img alt="interface" src="../images/ls/ls.001.png"></p>
<dl>
<dt><mark>1. about</mark></dt>
<dd>Read the colophon, with provenance and license information.</dd>
<dt><mark>2. jobs</mark></dt>
<dd>
<p>Manage your search tasks. They are remembered by your browser. You can start new jobs,
rename, duplicate and delete them. You can import jobs from file and export them to file.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Use this when switching between browsers. That includes sharing jobs with other people.</p>
</div>
</dd>
<dt><mark>3. levels, layers, regexes</mark></dt>
<dd>
<p>The corpus is represented in multiple ways: the <em>layers</em>.
They have been generated by choosing a <em>level</em> (such as text, line, word),
and representing the objects of that level by some of their <em>features</em>
(such as title, number, transcription).
Each layer can be searched by means of a search pattern.
Such patterns are technically <em>regular expressions</em>;
from now on we use the term <strong>regex</strong>, plural <strong>regexes</strong>.
To see what it means to search in several layers and levels at the same time: see
section <strong>Meaning</strong> below.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Read
<a href="https://en.wikipedia.org/wiki/Regular_expression">background on regexes</a>
and
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions/Cheatsheet">cheat sheet</a>.</p>
</div>
</dd>
<dt><mark>3a. legend</mark></dt>
<dd>
<p>Some layers have a triangle in front of their names.
These are layers that consist of a limited amount of keywords.
If they are acronyms, you can see their legend here.
Otherwise, you see a frequency list of there values here.</p>
<p><img alt="values" src="../images/ls/ls.008.png"></p>
</dd>
<dt><mark>3b. text of a layer</mark></dt>
<dd>You can click on the name of each layer to show and hide the
full text of that layer.
So that you know the material in which you are searching.</dd>
<dt><mark>4. flags</mark></dt>
<dd>
<p>When searching with regexes, you can alter their interpretation by setting some <em>flags</em>:</p>
<ul>
<li><code>i</code>: case-insensitive;</li>
<li><code>m</code>: multiline: <code>^</code> and <code>$</code> match around embedded newlines;</li>
<li><code>s</code>: single-string: <code>.</code> also matches newlines.</li>
</ul>
</dd>
<dt><mark>5. on / off</mark></dt>
<dd>
<p>Regexes can be switched off and on.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Use this to explore the effect of individual regexes.</p>
</div>
</dd>
<dt><mark>6. focus</mark></dt>
<dd>The level that corresponds with a single row in the results table.
Think of result rows as <em>observations</em> with <em>features</em>.</dd>
<dt><mark>7. hide / show</mark></dt>
<dd>
<p>Whether a layer/level should show up in the results.
Showing a level means showing their objects by their identifying numbers.
See option <strong>nodes and ordinals</strong> below.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>You can show layers in which you do not search,
and hide layers in which you do search.</p>
</div>
</dd>
<dt><mark>8. execute</mark></dt>
<dd>
<p>Press this to execute the current search job.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>There is an option to do this automatically
whenever you have changed something in the search criteria.</p>
</div>
</dd>
<dt><mark>9. stats</mark></dt>
<dd>Statistics of the current search results,
compared to the statistics of the whole corpus.</dd>
<dt><mark>10. options</mark></dt>
<dd>
<p>Modify the behaviour of search/export.
See <strong>Options</strong> below.</p>
<div class="admonition hint">
<p class="admonition-title">Special characters</p>
<p>If your corpus has special characters, and you want to type them into
the patterns, you can copy them from the <strong>Special characters button</strong>.</p>
<p>Just click on the character you need, and it is copied on the clipboard,
so that you can paste it anywhere you like (even in other applications).</p>
<p><img alt="chars" src="../images/ls/ls.007.png"></p>
</div>
<div class="admonition hint">
<p class="admonition-title">Simplified interface</p>
<p>Here is the button to switch back and forth between the simplified and the
full interface.</p>
</div>
</dd>
<dt><mark>11. export</mark></dt>
<dd>
<p>Export the search results as a tab-separated file (<code>.tsv</code>).
This file can be opened in Excel.
All
results are exported, not only the ones that show on the current page.
The level of detail depends on the currently selected <strong>focus</strong> level
and the visible layers as set by <strong>hide / show</strong>.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>The precise organization of the export may depend on some of the options.
See <strong>Export</strong> below.</p>
</div>
</dd>
<dt><mark>12. help</mark></dt>
<dd>Various links to information that you frequently need:
this help, the data features of the corpus, related corpus data.</dd>
<dt><mark>13. feedback</mark></dt>
<dd>File an issue on GitHub;
please copy and paste the version of this app in any issue you file.</dd>
<dt><mark>14. navigate</mark></dt>
<dd>
<p>Walk through the results in various ways:</p>
<ul>
<li>manual entry of the position number,</li>
<li>small jumps back and forth,</li>
<li>big strides with the slider.</li>
</ul>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Use keyboard shortcuts, all shortcuts need to be pressed with modifier keys:</p>
<table>
<thead>
<tr>
<th>browser</th>
<th>Windows</th>
<th>-</th>
<th>Linux</th>
<th>-</th>
<th>Mac</th>
</tr>
</thead>
<tbody>
<tr>
<td>Firefox</td>
<td><kbd>Alt</kbd> + <kbd>Shift</kbd></td>
<td></td>
<td><kbd>Alt</kbd> + <kbd>Shift</kbd></td>
<td></td>
<td><kbd>Ctrl</kbd> + <kbd>Option</kbd></td>
</tr>
<tr>
<td>Chrome</td>
<td><kbd>Alt</kbd> + <kbd>Shift</kbd></td>
<td></td>
<td><kbd>Alt</kbd></td>
<td></td>
<td><kbd>Ctrl</kbd> + <kbd>Option</kbd></td>
</tr>
<tr>
<td>Edge</td>
<td><kbd>Alt</kbd> + <kbd>Shift</kbd></td>
<td></td>
<td></td>
<td></td>
<td><kbd>Ctrl</kbd> + <kbd>Option</kbd></td>
</tr>
<tr>
<td>Safari</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><kbd>Ctrl</kbd> + <kbd>Option</kbd></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>shortcut</th>
<th>direction</th>
<th>amount</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>m</code></td>
<td>NA</td>
<td>manual entry of the result number</td>
</tr>
<tr>
<td><code>n</code></td>
<td>next</td>
<td>one</td>
</tr>
<tr>
<td><code>p</code></td>
<td>previous</td>
<td>one</td>
</tr>
<tr>
<td><code>b</code></td>
<td>back</td>
<td>a batch (half a screenful)</td>
</tr>
<tr>
<td><code>f</code></td>
<td>forward</td>
<td>a batch (half a screen)</td>
</tr>
<tr>
<td><code>s</code></td>
<td>start</td>
<td>all the way</td>
</tr>
<tr>
<td><code>e</code></td>
<td>end</td>
<td>all the way</td>
</tr>
</tbody>
</table>
</div>
</dd>
<dt><mark>15. position</mark></dt>
<dd>The current position in the results table is marked.</dd>
<dt><mark>16. previous position</mark></dt>
<dd>The previous position in the results table is also marked,
in a slightly less conspicuous way.</dd>
<dt><mark>17. highlighting</mark></dt>
<dd>
<p>The portions in the layer that match the corresponding regex are highlighted.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Highlights are exported by enclosing the text in Â« and Â»,
but you can switch this off by means of an option.
See <strong>Options</strong> below.</p>
</div>
</dd>
<dt><mark>18. links to online</mark></dt>
<dd>The top level layers are linked to an online
representation of the corpus.
For example, for NENA it is the GitHub repository where the source
texts are stored.
For the BHSA it is <a href="https://shebanq.ancient-data.org">SHEBANQ</a>.</dd>
</dl>
<h2 id="meaning">Meaning</h2>
<h3 id="levels">Levels</h3>
<p>Your corpus is divided into levels, e.g. text/line/sentence/word/.</p>
<p>At each level there are objects in the corpus and they can be represented in certain ways:</p>
<ul>
<li>text are represented by their titles;</li>
<li>lines are represented by their numbers;</li>
<li>words are represented by the strings of which they are composed.</li>
</ul>
<h3 id="layers">Layers</h3>
<p>Per level, there may be more than one way to represent the objects.
For example, at the word level, you may have representations in the original script in UNICODE,
but also various transliterations in ASCII.</p>
<p>All these representations are <em>layers</em> that you can search.
For example, the
<a href="https://github.com/CambridgeSemiticsLab/nena_tf">NENA corpus</a>
contains various text representations,
among which several are dedicated to phonetic properties.</p>
<p><img alt="layers" src="../images/ls/ls.003.png"></p>
<p>Layers do not have to correspond with the text of the corpus.
They can be based of arbitrary annotations that exist in the corpus.</p>
<h3 id="combined-search">Combined search</h3>
<p>In order to search, you specify search patterns for as many of
the available layers as you want.</p>
<p>When the search is performed, all these layers will produce results,
and the results in one layer will be "intersected" with the results in all other layers.</p>
<p>It might seem as if we are comparing apples and oranges, but our corpus has the structure
to enable exactly this kind of operation.
At each level we have a set of textual objects, called <em>nodes</em>, and for each node
we know exactly which textual positions they are linked to.</p>
<p>When we compare the search results of two layers in one level, we know the
textual position of each result in each layer. Hence we also know the nodes
in those results.
We take all nodes that are involved in the results of one layer as a set.
We do the same for the other layer.
Then we take the intersection of those sets.
The resulting set is the node set defined by the combined results in the two layers.
When we display them, we show the results in both layers, by showing the material
of the result nodes according to the layer and we highlight the portions that match
the regular expression in that layer.</p>
<p>See the top half in the next figure.</p>
<p><img alt="layers" src="../images/ls/ls.009.png"></p>
<p>The bottom half of the figure above shows what we do if we have to compare the
results of layers in different levels. In that case, those layers have different
kinds of result nodes, and we cannot take the intersection directly.</p>
<p>However, we can <em>project</em> the nodes of one level to those of another level
by using the notion of embedding.</p>
<p>We project a node <em>upward</em> by mapping it to the node that embeds it.</p>
<p>We project a node <em>downward</em> by mapping it to all nodes that are embedded in it.</p>
<p>By projecting the result nodes of one level to another level,
we end up with two node sets at the same level that we can intersect.</p>
<div class="admonition caution">
<p class="admonition-title">Beware of complicated criteria</p>
<p>Before you devise sophisticated criteria, note that this search engine
is not very refined in taking intersections.
It takes the intersections of the joint results of the matches in the layers.
It will not take the intersections of the individual matches.
See the next figure for the difference.</p>
<p><img alt="layers" src="../images/ls/ls.010.png"></p>
<p>If you look for <code>/aa.*aa/</code> in the bottom layer, and then want to restrict the results
by specifying that each result occurs within a <code>/PQ/</code> match of the top layer,
you will be disappointed.</p>
<p>That will only work if we had implemented a <em>strict</em> semantics: the individual
matches in the different layers should match exactly (after projection).</p>
<p>Instead, in our loose semantics, matches in one layer are not discarded,
but intersected with matches in an order layer.</p>
<p>In fact, there is a whole spectrum of strictness, where it depends on the
intention of the search which degree of strictness is desirable.</p>
<p>For now, that is becoming way to complex, both to be usable and to be implementable.
That is why we have opted for the lax interpretation.</p>
<p>The bottom-line is: use the search tool to grab the things that are potentially of interest.
If you need to pinpoint further, export the results to Excel and use other tools/methods
to achieve that.</p>
</div>
<h2 id="export">Export</h2>
<p>You can export the search results to Excel (or rather, a tab-separated file, <code>.tsv</code>).
When you do that, <em>all</em> results will get exported, not only the ones that show
on the interface.</p>
<p>The organization of the exported results reflects the interface.
It makes sense to think of the rows as observations, and the columns as properties of those observations.</p>
<p>We may have issued multiple regexes to multiple layers, so we have to define our concept of observation.</p>
<p>The first ingredient is our <strong>focus</strong> level: the objects in this level are the units of observation.
For each focus object there is a row in the result table.</p>
<p>The focus objects have <em>context</em> and <em>content</em>.</p>
<p>The <em>context</em> consists of the objects that enclose the focus object.
For each level of context objects there will be a column in the result row.</p>
<p>The <em>content</em> consists of the objects contained in the focus objects.
We have a single column for the content of the focus objects.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p>If the focus level is <em>sentence</em> then the focus objects are sentences.</p>
<p>The context of a <em>sentence</em> consists of the <em>lines</em> and <em>texts</em> that contain that sentence.
In this corpus each sentence has exactly 1 <em>line</em> and exactly 1 <em>text</em> in which it is contained.
In other corpora that might be different: it could be more or less.</p>
<p>The content of a sentence consists of all of its <em>word</em> objects, concatenated.</p>
<p>If the focus level is <em>line</em>, then the focus objects are lines.</p>
<p>The context of a <em>line</em> consists of exactly 1 <em>text</em> that contains the line.</p>
<p>The content of a line consists of all of its <em>sentence</em> and <em>word</em> objects,
properly nested and concatenated.</p>
</div>
<div class="admonition caution">
<p class="admonition-title">An object is distinct from its content</p>
<p>When we represent an object, we use the layers of the level of that object.</p>
<p>Take a <em>text</em> for example.
There are a few layers for a text, such as dialect, place, title.
Hence a text is represented by just its title, or its place, or its dialect,
depending on which layer you use for the representation.</p>
<p>The <em>content</em> of a text is a much bigger thing.
It is the collection of all its line, sentence, and word objects
represented in their own layers.</p>
<p>When we represent only the object, we call it a <em>shallow</em> representation.
When we represent the <em>content</em> of an object, we call it a <em>deep</em> representation.</p>
<p>An observation is represented by:</p>
<ul>
<li>shallow representations of the context objects,</li>
<li>a shallow representation of the focus object,</li>
<li>a deep representation of the focus object.</li>
</ul>
</div>
<p>All objects are represented ultimately by their material in the layers.
When we display results or export them,
we present all layers that you have selected by means of <strong>hide / show</strong>.</p>
<div class="admonition note">
<p class="admonition-title">Multiple layers</p>
<p>If multiple layers have been selected for some levels,
we show them all on the interface in a graceful way.
However, the format of a table is much more restricted,
and we have to make a tough choice here:
we can use extra columns or extra rows for multiple layers.
Both have advantages and disadvantages.</p>
<p><strong>layers to columns</strong>:</p>
<ul>
<li><code>+</code>: one result, one row, good for post-processing</li>
<li><code>-</code>: the layers
of one object do not line up, difficult visual inspection</li>
</ul>
<p><strong>layers to rows</strong>:</p>
<ul>
<li><code>-</code>: one result, multiple rows, complicates post-processing</li>
<li><code>+</code>: the layers
of one object line up, comfortable visual inspection</li>
</ul>
<p>Observe the difference:</p>
</div>
<p><img alt="export" src="../images/ls/ls.004.png"></p>
<h2 id="options">Options</h2>
<p><img alt="options" src="../images/ls/ls.002.png"></p>
<dl>
<dt><mark>1. auto</mark></dt>
<dd>Executes the search automatically whenever you have changed some criterion.
Also updates the results when you have modified the focus and visibility of layers.</dd>
<dt><mark>2. nodes versus ordinals</mark></dt>
<dd>
<p>Each object in the corpus has a unique number: its <em>node</em> number.
Within a level, we can also enumerate all its objects, starting with 1.
The ordinals identify objects uniquely within their level.
You can choose which of these numbers you want displayed.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Use nodes for interoperability with TF;
otherwise ordinals are more intuitive.</p>
</div>
</dd>
<dt><mark>3. highlighting in exports</mark></dt>
<dd>Highlighted matches are a valuable outcome of a search.
But in exports, the highlight characters Â« Â» may hinder further processing.
So you can omit them.</dd>
<dt><mark>4. organization of exports</mark></dt>
<dd>
<p>When several layers are visible for a level, the question arises:
how should we organize them in exported results?
There are two options:</p>
<ul>
<li>use extra rows for the extra layers;</li>
<li>use extra columns for the extra layers.</li>
</ul>
<p>You choose!
The difference is shown in section <strong>Exports</strong> above.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Use extra rows if you rely on visual inspection of the exported file in Excel.
Use extra columns if you want to process the exported file by means of other tools,
such as <code>pandas</code> or <code>R</code>.</p>
</div>
</dd>
<dt><mark>5. single or multiple highlights</mark></dt>
<dd>
<p>If you use <code>( )</code> for grouping in your regexes,
the parts of the results that match these groups
can be highlighted with different colours.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Not all browsers support this;
the interface shows whether your browser supports it,
and which other browsers support it.</p>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>This is handy for cases where you search for twice the same thing in a sentence,
for instance.
You can have both matches coloured differently.</p>
</div>
</dd>
</dl>
<h1 id="background-information">Background information</h1>
<p>Layered-search is a way of full-text searching your corpus by means of
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions/Cheatsheet">regular expressions</a>.
but with a twist:
you can search in several layers of the corpus by means of several regexes in parallel.
It is a method to make good use of the annotations that exist in the corpus at various levels.</p>
<p>Regular expressions are a key tool for specifying sophisticated search patterns.
Their theoretical foundation was laid in the 1950s,
and by now they have been implemented in all major
programming languages and in all powerful text-editors.</p>
<p>If this is the first time you encounter them, it will pay off to get to know them well,
because it is very likely that you encounter them again.</p>
<p>For more background,
read <a href="https://en.wikipedia.org/wiki/Regular_expression">Wikipedia</a>.</p>
<h1 id="the-search-interface-as-app">The search interface as app</h1>
<p>We have implemented layered search as an offline Single Page Application.</p>
<p>The app consists of a single HTML file (<em>app</em><code>.html</code>),
a CSS file, PNG files (logos) and JavaScript files.
The corpus data is in a big JavaScript file, the corpus configuration in a small one.
The remaining JavaScript files are the modules of the program.</p>
<p>Modern browsers can take in modular JavaScript, except when you have the HTML file
locally on your computer and you open it with a double click.
Your browser has then <code>file://</code> in its URL bar, and in that case modular JavaScript does
not work.</p>
<p>To overcome that, we have also bundled the program in a single file, and that is included by
<em>app</em>-<code>local.html</code>.</p>
<p>From within the app, you can download a zip file with <em>app</em><code>-local.html</code> in it,
so that you can have the full search experience completely off-line.</p>
<p>Also when you have opened this page over the internet, once your browser has downloaded the
complete app, all interaction between you and the search app happens at your browser,
without further internet connection (except when you navigate to external links).</p>
<p>As a consequence</p>
<ul>
<li>this app works without any kind of installation</li>
<li>it does not collect data about you</li>
<li>it does not use cookies.</li>
<li>it works without internet connection</li>
</ul>
<p>When the browser remembers your previous jobs,
it does not use cookies for it but
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage"><code>localStorage</code></a>,
which other sites cannot read.</p>
<h1 id="making-this-app">Making this app</h1>
<p>The construction of this app relies very much of the organization of the corpus
as a TF dataset.</p>
<p>The process of creating a layered search functionality
is baked into TF.</p>
<p>The designer needs to specify the layers in a <code>.yaml</code> file
and write a small piece of code to generate the data for the layers
from the corresponding TF dataset.</p>
<p>See e.g.
<a href="https://github.com/CambridgeSemiticsLab/nena_tf/tree/master/app"><code>app-nena/layeredsearch</code></a>.</p>
<p>All the rest (building, shipping, and deploying the app) is then automatic,
See <code><a title="tf.client.make.build" href="../client/make/build.html">tf.client.make.build</a></code>.</p>
<p>The first layered search interface created this way is one for the
<a href="https://github.com/CambridgeSemiticsLab/nena_tf">NENA</a> corpus.</p>
<p>We intend to make more interfaces for other TF corpora,
reducing and streamlining the preparation effort in the process.</p>
<h1 id="credits">Credits</h1>
<p>The idea for this app came out of a discussion of
<a href="https://www.linkedin.com/in/cody-kingham-1135018a">Cody Kingham</a>
and me about how we could make a simple but usable search interface
for people that need to get hands on with a TF corpus.</p>
<p>Given that we have the corpus data at our finger tips through TF,
but that TF Query (<code><a title="tf.about.searchusage" href="searchusage.html">tf.about.searchusage</a></code>) does not cover over all use cases,
and requires installing Python,
we adopted the approach to assemble data
and power a simple JavaScript program with it.</p>
<p>The first implementation of these idea was funded by
<a href="https://www.ames.cam.ac.uk/people/professor-geoffrey-khan">Prof. Geoffrey Khan</a>,
reviewed by Cody Kingham and the people of
<a href="https://github.com/CambridgeSemiticsLab/nena_corpus">Cambridge Semitics Lab</a>
and eventually written by
<a href="https://pure.knaw.nl/portal/en/persons/dirk-roorda">Dirk Roorda</a>.</p>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/annotation/text-fabric/blob/6a2651a0b02a70b3e6fdd89f6d02b727626cd8bf/tf/about/clientmanual.py#L1-L3" class="git-link">Browse git</a>
</summary>
<pre><code class="python">&#34;&#34;&#34;
.. include:: ../docs/about/clientmanual.md
&#34;&#34;&#34;</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<p><a href="https://github.com/annotation" title="annotation on GitHub"><img src="../../tf/images/tf-small.png" alt="annotation"></a></p>
<p><a href="../../tf/index.html">tf home</a> -
<a href="../../tf/cheatsheet.html">cheat sheet</a> -
<a href="https://github.com/annotation/text-fabric" title="GitHub repo"><img src="../../tf/images/GitHub_Logo.png" alt="GitHub" width="50"></a></p>
</p>
<form>
<input id="lunr-search" name="q" placeholder="ðŸ”Ž Search ..." aria-label="Search"
disabled minlength="2">
</form>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/tingle/0.15.3/tingle.min.css" integrity="sha512-j1u8eUJ4f23xPPxwOrLUPQaCD2dwzNqqmDDcWS4deWsMv2ohLqmXXuP3hU7g8TyzbMSakP/mMqoNBYWj8AEIFg==" crossorigin>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tingle/0.15.3/tingle.min.js" integrity="sha512-plGUER9JkeEWPPqQBE4sdLqBoQug5Ap+BCGMc7bJ8BXkm+VVj6QzkpBz5Yv2yPkkq+cqg9IpkBaGCas6uDbW8g==" crossorigin></script>
<style>
.modal-dialog iframe {
width: 100vw;
height: calc(100vh - 80px);
}
@media screen and (min-width: 700px) {
.modal-dialog iframe {
width: 70vw;
height: 80vh;
}
}
.modal-dialog .tingle-modal-box {width: auto;}
.modal-dialog .tingle-modal-box__content {padding: 0;}
</style>
<script>
const input = document.getElementById('lunr-search');
input.disabled = false;
input.form.addEventListener('submit', (ev) => {
ev.preventDefault();
const url = new URL(window.location);
url.searchParams.set('q', input.value);
history.replaceState({}, null, url.toString());
search(input.value);
});
const query = new URL(window.location).searchParams.get('q');
if (query)
search(query);
function search(query) {
const url = '../../doc-search.html#' + encodeURIComponent(query);
new tingle.modal({
cssClass: ['modal-dialog'],
onClose: () => {
const url = new URL(window.location);
url.searchParams.delete('q');
history.replaceState({}, null, url.toString());
setTimeout(() => input.focus(), 100);
}
}).setContent('<iframe src="' + url + '"></iframe>').open();
}
</script>
<h1>Index</h1>
<div class="toc">
<ul>
<li><a href="#quick-start">Quick start</a><ul>
<li><a href="#meaning">Meaning</a><ul>
<li><a href="#levels">Levels</a></li>
<li><a href="#layers">Layers</a></li>
<li><a href="#combined-search">Combined search</a></li>
</ul>
</li>
<li><a href="#export">Export</a></li>
<li><a href="#options">Options</a></li>
</ul>
</li>
<li><a href="#background-information">Background information</a></li>
<li><a href="#the-search-interface-as-app">The search interface as app</a></li>
<li><a href="#making-this-app">Making this app</a></li>
<li><a href="#credits">Credits</a></li>
</ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="tf.about" href="index.html">tf.about</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<a href="https://pure.knaw.nl/portal/en/persons/dirk-roorda">Dirk Roorda</a>
<a href="https://huc.knaw.nl"><img alt="HuC" src="../../tf/images/huc.png" width="200" alt="Humanities Cluster"></a>
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.11.1</a>.</p>
</footer>
</body>
</html>
